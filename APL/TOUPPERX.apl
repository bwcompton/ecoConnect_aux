A←TOUPPERX A;C;code;⎕ELX;u;l;Z;B
⍝∇upper←UPPERCASE text -- Convert all lowercase characters to uppercase
⍝9 Feb 2024: APL+Win/APL64 version
⍝14 Feb 2024: use TOLOWER code so it works for matrices



 :if APL64
    C←'ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz'
    Z←,A
    Z[B/⍳⍴Z]←C[1+27∣¯1+C⍳(B←Z∊C)/Z]
    A←(⍴A)⍴Z
 :else
    ⎕ELX←'⎕ERROR (^\⎕TCNL≠⎕DM)/⎕DM'
    code←2000042035 69500043 ¯1960121213 612141548 574982438 39684454 307071334 411078 476614 1459654 1525190 4573030 ¯949616624 1052741 541443942 ¯1201274880 1425997825 ¯1201265116 1425997826 ¯2112936412 126 280006 440422 639915263 7111183 1300955136 ¯1956715768 ¯141882243 2260355 2655247 15204352 1526726656 954127 ¯1014824960 ¯1869574045 42682 686526464 17417089 ¯1497759744 ¯1879048192 ¯981263637 45639184 609550080 528617254 ¯2097152000 1435177197 475892504 264387244 387 ¯492120320 47347 ¯998047744 ¯661929174 440 ¯1191974144 ¯1 16838891 84148994 151521030 218893066 286265102 353637138 421009174 488381210 555753246 623125282 690497318 757869354 825241390 892613426 959985462 1027357498 1631600446 1701077858 1768449894 1835821930 1903193966 1970566002 2037938038 1566333818 1633705822 1701077858 1768449894 1835821930 1903193966 1970566002 2037938038 2105310074 ¯2121826434 ¯2054913150 ¯1987541114 ¯1920169078 ¯1853714556 ¯1785425006 ¯1801939050 ¯1650680959 ¯1583308898 ¯1532714078 50462976 117835012 185207048 252579084 319951120 387323156 454695192 522067228 589439264 656811300 724183336 791555372 858927408 926299444 993671480 1061043516 1128415552 1195787588 1263159624 1330531660 1397903696 1465275732 1532647768 1600019804 1128415584 1195787588 1263159624 1330531660 1397903696 1465275732 2069518680 2138996092 ¯2087675264 ¯2138667634 ¯1953855096 ¯1886483060 ¯1819111024 ¯1751738983 ¯1684366952 ¯1616994916 ¯1549622880 42405
    →(1↑C←(1,⎕STPTR 'A') ⎕CALL code)↓0
    ⎕ERROR(2 4 5 6 7⍳(1+⎕IO)⊃C)⊃'VALUE ERROR' 'LENGTH ERROR' 'WS FULL' 'RANK ERROR' 'LIMIT ERROR' 'DOMAIN ERROR'
 :end